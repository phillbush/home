#!/bin/sh

gettab() {
	lsc -ls -g _SHOD_TAB_GROUP | awk -v DIR="$1" '
		substr($1, 11, 1) == "f" {
			tabs[n++] = $6
			next
		}
		substr($1, 11, 1) == "A" {
			sel = n
			tabs[n++] = $6
			next
		}
		END {
			if (DIR == "prev") {
				print tabs[(n + sel - 1) % n]
			} else {
				print tabs[(sel + 1) % n]
			}
		}
	'
}

wmctrl -ia $(gettab $1)
